{"version":3,"file":"static/js/670.2b6879c0.chunk.js","mappings":"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","sources":["api/api.js","webpack://goit-react-hw-05-movies/./src/components/moviesList/moviesList.module.css?3404","components/moviesList/moviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/searchForm/searchForm.module.css?20ec","components/searchForm/searchForm.jsx","pages/moviesPage/moviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '6caca0c75338accb735dd13cb80db2a1';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nclass dataFetchApi {\n  #SEARCH = 'search/movie';\n  #TRAND = 'trending/movie/day';\n  #BASE = 'movie/';\n\n  //? Home trend\n\n  trend = async page => {\n    const respons = await axios.get(\n      `${this.#TRAND}?api_key=${API_KEY}&page=${page}`\n    );\n    return respons.data.results;\n  };\n\n  //? search form\n\n  search = async (query, page) => {\n    const respons = await axios.get(\n      `${this.#SEARCH}?api_key=${API_KEY}&query=${query}&page=${page}`\n    );\n    return respons.data;\n  };\n\n  //? fetchId\n\n  fetchId = async id => {\n    const respons = await axios.get(`${this.#BASE}/${id}?api_key=${API_KEY}`);\n\n    return respons.data;\n  };\n\n  //? Cast\n\n  cast = async id => {\n    const respons = await axios.get(\n      `${this.#BASE}/${id}/credits?api_key=${API_KEY}`\n    );\n\n    return respons.data.cast;\n  };\n\n  //? Reviews\n\n  reviews = async id => {\n    const respons = await axios.get(\n      `${this.#BASE}/${id}/reviews?api_key=${API_KEY}`\n    );\n\n    return respons.data.results;\n  };\n}\n\nconst api = new dataFetchApi();\n\nexport default api;\n\n\n  \n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"moviesList_link__zj7RC\",\"list\":\"moviesList_list__LSjyx\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './moviesList.module.css';\nimport PropTypes from 'prop-types';\n\nconst List = ({ data }) => {\nconst location = useLocation();\n\n  return (\n    <ul>\n      {data.map(e => (\n        <li className={s.list} key={e.id}>\n          <Link className={s.link} to={`/movies/${e.id}`} state={location}>\n            {e.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nList.propTypes = {\n  data: PropTypes.array.isRequired,\n};\n\nexport default List;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchForm_form__JErdS\",\"button\":\"searchForm_button__dtaAz\",\"input\":\"searchForm_input__mzoRX\"};","import { useState } from 'react';\nimport api from '../../api/api';\nimport s from './searchForm.module.css';\nimport PropTypes from 'prop-types';\n\nconst SearchForm = ({ setData, setSearchParams }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChangeInput = e => {\n    setQuery(e.target.value.trimStart());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query === '') return;\n    setSearchParams({ query });\n\n    const data = async () => {\n      try {\n        const response = await api.search(query, 1);\n        setData(response.results);\n        setQuery('');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    data();\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={s.form}>\n      <input\n        type=\"text\"\n        name=\"query\"\n        value={query}\n        onChange={handleChangeInput}\n        className={s.input}\n      />\n      <button type=\"submit\" className={s.button}>\n        SEARCH\n      </button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  setData: PropTypes.func,\n  setSearchParams: PropTypes.func,\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../../api/api';\nimport SearchForm from 'components/searchForm/searchForm';\nimport MoviesList from '../../components/moviesList/moviesList';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const queryURL = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (queryURL === '') {\n      return;\n    }\n    setPage(1);\n\n    const data = async () => {\n      try {\n        const response = await api.search(queryURL, page);\n        setData(response.results);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    data();\n  }, [queryURL, page]);\n\n  return (\n    <>\n      <SearchForm setData={setData} setSearchParams={setSearchParams} />\n\n      {data.length !== 0 && queryURL !== '' && <MoviesList data={data} />}\n    </>\n  );\n};\n\nexport default Movies;"],"names":["API_KEY","axios","dataFetchApi","trend","page","respons","data","results","search","query","fetchId","id","cast","reviews","api","location","useLocation","map","e","className","s","to","state","title","setData","setSearchParams","useState","setQuery","onSubmit","preventDefault","response","console","log","type","name","value","onChange","target","trimStart","useSearchParams","searchParams","setPage","queryURL","get","useEffect","length"],"sourceRoot":""}